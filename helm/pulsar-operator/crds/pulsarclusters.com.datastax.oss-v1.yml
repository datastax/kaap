# Generated by Fabric8 CRDGenerator, manual edits might get overwritten!
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: pulsarclusters.com.datastax.oss
spec:
  group: com.datastax.oss
  names:
    kind: PulsarCluster
    plural: pulsarclusters
    shortNames:
    - pulsar
    singular: pulsarcluster
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        properties:
          spec:
            properties:
              bookkeeper:
                properties:
                  volumes:
                    description: Volumes configuration.
                    properties:
                      journal:
                        description: Indicates the volume config for the journal.
                        properties:
                          storageClass:
                            description: Indicates if a StorageClass is used. The
                              operator will create the StorageClass if needed.
                            properties:
                              extraParams:
                                additionalProperties:
                                  type: string
                                description: Adds extra parameters for the StorageClass.
                                type: object
                              provisioner:
                                description: Indicates the provisioner property for
                                  the StorageClass.
                                type: string
                              type:
                                description: Indicates the 'type' parameter for the
                                  StorageClass.
                                type: string
                              fsType:
                                description: Indicates the 'fsType' parameter for
                                  the StorageClass.
                                type: string
                              reclaimPolicy:
                                description: Indicates the reclaimPolicy property
                                  for the StorageClass.
                                type: string
                            type: object
                          size:
                            description: Indicates the requested size for the volume.
                              The format follows the Kubernetes' Quantity. Default
                              value is '5Gi'.
                            type: string
                          name:
                            description: Indicates the suffix for the volume. Default
                              value is 'data'.
                            type: string
                          existingStorageClassName:
                            description: Indicates if an already existing storage
                              class should be used.
                            type: string
                        type: object
                      ledgers:
                        description: Indicates the volume config for the ledgers.
                        properties:
                          storageClass:
                            description: Indicates if a StorageClass is used. The
                              operator will create the StorageClass if needed.
                            properties:
                              extraParams:
                                additionalProperties:
                                  type: string
                                description: Adds extra parameters for the StorageClass.
                                type: object
                              provisioner:
                                description: Indicates the provisioner property for
                                  the StorageClass.
                                type: string
                              type:
                                description: Indicates the 'type' parameter for the
                                  StorageClass.
                                type: string
                              fsType:
                                description: Indicates the 'fsType' parameter for
                                  the StorageClass.
                                type: string
                              reclaimPolicy:
                                description: Indicates the reclaimPolicy property
                                  for the StorageClass.
                                type: string
                            type: object
                          size:
                            description: Indicates the requested size for the volume.
                              The format follows the Kubernetes' Quantity. Default
                              value is '5Gi'.
                            type: string
                          name:
                            description: Indicates the suffix for the volume. Default
                              value is 'data'.
                            type: string
                          existingStorageClassName:
                            description: Indicates if an already existing storage
                              class should be used.
                            type: string
                        type: object
                    type: object
                  updateStrategy:
                    description: Update strategy for the BookKeeper pod/s. Default
                      value is rolling update.
                    properties:
                      type:
                        type: string
                      rollingUpdate:
                        properties:
                          maxUnavailable:
                            anyOf:
                            - type: integer
                            - type: string
                            x-kubernetes-int-or-string: true
                          partition:
                            type: integer
                        type: object
                    type: object
                  gracePeriod:
                    description: Termination grace period in seconds for the BookKeeper
                      pod. Default value is 60.
                    minimum: 0.0
                    type: integer
                  annotations:
                    additionalProperties:
                      type: string
                    description: Annotations to add to each BookKeeper resource.
                    type: object
                  service:
                    description: Configurations for the Service resources associated
                      to the BookKeeper pod.
                    properties:
                      additionalPorts:
                        description: Additional ports for the BookKeeper Service resources.
                        items:
                          properties:
                            targetPort:
                              anyOf:
                              - type: integer
                              - type: string
                              x-kubernetes-int-or-string: true
                            port:
                              type: integer
                            nodePort:
                              type: integer
                            name:
                              type: string
                            appProtocol:
                              type: string
                            protocol:
                              type: string
                          type: object
                        type: array
                      annotations:
                        additionalProperties:
                          type: string
                        description: Additional annotations to add to the BookKeeper
                          Service resources.
                        type: object
                    type: object
                  podManagementPolicy:
                    description: Pod management policy for the BookKeeper pod. Default
                      value is 'Parallel'.
                    type: string
                  resources:
                    description: Resource requirements for the BookKeeper pod.
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        type: object
                    type: object
                  pvcPrefix:
                    description: Prefix for each PVC created.
                    type: string
                  probe:
                    description: Liveness and readiness probe values.
                    properties:
                      period:
                        description: Indicates the period (in seconds) for the probe.
                        type: integer
                      timeout:
                        description: Indicates the timeout (in seconds) for the probe.
                        type: integer
                      initial:
                        description: Indicates the initial delay (in seconds) for
                          the probe.
                        type: integer
                      enabled:
                        description: Indicates whether the probe is enabled or not.
                        type: boolean
                    type: object
                  replicas:
                    description: Replicas of this component.
                    type: integer
                  pdb:
                    description: Pod disruption budget configuration for this component.
                    properties:
                      maxUnavailable:
                        description: Indicates the maxUnavailable property for the
                          Pdb.
                        type: integer
                      enabled:
                        description: Indicates if the Pdb policy is enabled for this
                          component.
                        type: boolean
                    type: object
                  image:
                    description: Pulsar image to use for this component.
                    type: string
                  nodeSelectors:
                    additionalProperties:
                      type: string
                    description: Additional node selectors for this component.
                    type: object
                  imagePullPolicy:
                    description: Pulsar image pull policy to use for this component.
                    type: string
                  config:
                    additionalProperties:
                      type: string
                    description: Configuration entries directly passed to this component.
                    type: object
                type: object
              broker:
                properties:
                  service:
                    description: Configurations for the Service resources associated
                      to the Broker pod.
                    properties:
                      headless:
                        description: Do not assign an IP to the Service.
                        type: boolean
                      additionalPorts:
                        description: Additional ports for the Broker Service resources.
                        items:
                          properties:
                            targetPort:
                              anyOf:
                              - type: integer
                              - type: string
                              x-kubernetes-int-or-string: true
                            port:
                              type: integer
                            nodePort:
                              type: integer
                            name:
                              type: string
                            appProtocol:
                              type: string
                            protocol:
                              type: string
                          type: object
                        type: array
                      annotations:
                        additionalProperties:
                          type: string
                        description: Additional annotations to add to the Broker Service
                          resources.
                        type: object
                      type:
                        description: Service type. Default value is 'ClusterIP'
                        type: string
                    type: object
                  updateStrategy:
                    description: 'Update strategy for the Broker pod/s. '
                    properties:
                      type:
                        type: string
                      rollingUpdate:
                        properties:
                          maxUnavailable:
                            anyOf:
                            - type: integer
                            - type: string
                            x-kubernetes-int-or-string: true
                          partition:
                            type: integer
                        type: object
                    type: object
                  webSocketServiceEnabled:
                    description: Enable websocket service in the broker.
                    type: boolean
                  gracePeriod:
                    description: Termination grace period in seconds for the Broker
                      pod. Default value is 60.
                    minimum: 0.0
                    type: integer
                  functionsWorkerEnabled:
                    description: Enable functions worker embedded in the broker.
                    type: boolean
                  transactions:
                    description: Enable transactions in the broker.
                    properties:
                      partitions:
                        description: Partitions count for the transaction's topic.
                        type: integer
                      initJob:
                        description: Initialization job configuration.
                        properties:
                          resources:
                            description: Resource requirements for the Job's Pod.
                            properties:
                              limits:
                                additionalProperties:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  x-kubernetes-int-or-string: true
                                type: object
                              requests:
                                additionalProperties:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  x-kubernetes-int-or-string: true
                                type: object
                            type: object
                        type: object
                      enabled:
                        description: Enable the transaction coordinator in the broker.
                        type: boolean
                    type: object
                  annotations:
                    additionalProperties:
                      type: string
                    description: Annotations to add to each Broker resource.
                    type: object
                  autoscaler:
                    description: Autoscaling config.
                    properties:
                      periodMs:
                        minimum: 1000.0
                        type: integer
                      max:
                        type: integer
                      higherCpuThreshold:
                        maximum: 1.0
                        minimum: 0.0
                        type: number
                      enabled:
                        type: boolean
                      min:
                        minimum: 1.0
                        type: integer
                      scaleUpBy:
                        minimum: 1.0
                        type: integer
                      stabilizationWindowMs:
                        minimum: 1.0
                        type: integer
                      lowerCpuThreshold:
                        maximum: 1.0
                        minimum: 0.0
                        type: object
                      scaleDownBy:
                        minimum: 1.0
                        type: integer
                    type: object
                  initContainer:
                    description: Additional init container.
                    properties:
                      args:
                        description: The command args used for the container.
                        items:
                          type: string
                        type: array
                      command:
                        description: The command used for the container.
                        items:
                          type: string
                        type: array
                      image:
                        description: The image used to run the container.
                        type: string
                      emptyDirPath:
                        description: The container path where the emptyDir volume
                          is mounted.
                        type: string
                      imagePullPolicy:
                        description: The image pull policy used for the container.
                        type: string
                    type: object
                  podManagementPolicy:
                    description: Pod management policy for the Broker pod.
                    type: string
                  resources:
                    description: Resource requirements for the Broker pod.
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        type: object
                    type: object
                  serviceAccountName:
                    description: Service account name for the Broker StatefulSet.
                    type: string
                  probe:
                    description: Liveness and readiness probe values.
                    properties:
                      period:
                        description: Indicates the period (in seconds) for the probe.
                        type: integer
                      timeout:
                        description: Indicates the timeout (in seconds) for the probe.
                        type: integer
                      initial:
                        description: Indicates the initial delay (in seconds) for
                          the probe.
                        type: integer
                      enabled:
                        description: Indicates whether the probe is enabled or not.
                        type: boolean
                    type: object
                  replicas:
                    description: Replicas of this component.
                    type: integer
                  pdb:
                    description: Pod disruption budget configuration for this component.
                    properties:
                      maxUnavailable:
                        description: Indicates the maxUnavailable property for the
                          Pdb.
                        type: integer
                      enabled:
                        description: Indicates if the Pdb policy is enabled for this
                          component.
                        type: boolean
                    type: object
                  image:
                    description: Pulsar image to use for this component.
                    type: string
                  nodeSelectors:
                    additionalProperties:
                      type: string
                    description: Additional node selectors for this component.
                    type: object
                  imagePullPolicy:
                    description: Pulsar image pull policy to use for this component.
                    type: string
                  config:
                    additionalProperties:
                      type: string
                    description: Configuration entries directly passed to this component.
                    type: object
                type: object
              zookeeper:
                properties:
                  metadataInitializationJob:
                    description: Configuration about the job that initializes the
                      Pulsar cluster creating the needed ZooKeeper nodes.
                    properties:
                      resources:
                        description: Resource requirements for the Job's Pod.
                        properties:
                          limits:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              x-kubernetes-int-or-string: true
                            type: object
                          requests:
                            additionalProperties:
                              anyOf:
                              - type: integer
                              - type: string
                              x-kubernetes-int-or-string: true
                            type: object
                        type: object
                      timeout:
                        description: Timeout (in seconds) for the metadata initialization
                          execution. Default value is 60.
                        type: integer
                    type: object
                  updateStrategy:
                    description: Update strategy for the ZooKeeper pod. Default value
                      is rolling update.
                    properties:
                      type:
                        type: string
                      rollingUpdate:
                        properties:
                          maxUnavailable:
                            anyOf:
                            - type: integer
                            - type: string
                            x-kubernetes-int-or-string: true
                          partition:
                            type: integer
                        type: object
                    type: object
                  gracePeriod:
                    description: Termination grace period in seconds for the ZooKeeper
                      pod. Default value is 60.
                    minimum: 0.0
                    type: integer
                  service:
                    description: Configurations for the Service resources associated
                      to the ZooKeeper pod.
                    properties:
                      additionalPorts:
                        description: Additional ports for the ZooKeeper Service resources.
                        items:
                          properties:
                            targetPort:
                              anyOf:
                              - type: integer
                              - type: string
                              x-kubernetes-int-or-string: true
                            port:
                              type: integer
                            nodePort:
                              type: integer
                            name:
                              type: string
                            appProtocol:
                              type: string
                            protocol:
                              type: string
                          type: object
                        type: array
                      annotations:
                        additionalProperties:
                          type: string
                        description: Additional annotations to add to the ZooKeeper
                          Service resources.
                        type: object
                    type: object
                  annotations:
                    additionalProperties:
                      type: string
                    description: Annotations to add to each ZooKeeper resource.
                    type: object
                  podManagementPolicy:
                    description: Pod management policy for the ZooKeeper pod. Default
                      value is 'Parallel'.
                    type: string
                  dataVolume:
                    description: Volume configuration for ZooKeeper data.
                    properties:
                      storageClass:
                        description: Indicates if a StorageClass is used. The operator
                          will create the StorageClass if needed.
                        properties:
                          extraParams:
                            additionalProperties:
                              type: string
                            description: Adds extra parameters for the StorageClass.
                            type: object
                          provisioner:
                            description: Indicates the provisioner property for the
                              StorageClass.
                            type: string
                          type:
                            description: Indicates the 'type' parameter for the StorageClass.
                            type: string
                          fsType:
                            description: Indicates the 'fsType' parameter for the
                              StorageClass.
                            type: string
                          reclaimPolicy:
                            description: Indicates the reclaimPolicy property for
                              the StorageClass.
                            type: string
                        type: object
                      size:
                        description: Indicates the requested size for the volume.
                          The format follows the Kubernetes' Quantity. Default value
                          is '5Gi'.
                        type: string
                      name:
                        description: Indicates the suffix for the volume. Default
                          value is 'data'.
                        type: string
                      existingStorageClassName:
                        description: Indicates if an already existing storage class
                          should be used.
                        type: string
                    type: object
                  resources:
                    description: Resource requirements for the ZooKeeper pod.
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        type: object
                    type: object
                  probe:
                    description: Liveness and readiness probe values.
                    properties:
                      period:
                        description: Indicates the period (in seconds) for the probe.
                        type: integer
                      timeout:
                        description: Indicates the timeout (in seconds) for the probe.
                        type: integer
                      initial:
                        description: Indicates the initial delay (in seconds) for
                          the probe.
                        type: integer
                      enabled:
                        description: Indicates whether the probe is enabled or not.
                        type: boolean
                    type: object
                  replicas:
                    description: Replicas of this component.
                    type: integer
                  pdb:
                    description: Pod disruption budget configuration for this component.
                    properties:
                      maxUnavailable:
                        description: Indicates the maxUnavailable property for the
                          Pdb.
                        type: integer
                      enabled:
                        description: Indicates if the Pdb policy is enabled for this
                          component.
                        type: boolean
                    type: object
                  image:
                    description: Pulsar image to use for this component.
                    type: string
                  nodeSelectors:
                    additionalProperties:
                      type: string
                    description: Additional node selectors for this component.
                    type: object
                  imagePullPolicy:
                    description: Pulsar image pull policy to use for this component.
                    type: string
                  config:
                    additionalProperties:
                      type: string
                    description: Configuration entries directly passed to this component.
                    type: object
                type: object
              proxy:
                properties:
                  service:
                    description: Configurations for the Service resources associated
                      to the Broker pod.
                    properties:
                      additionalPorts:
                        description: Additional ports for the Broker Service resources.
                        items:
                          properties:
                            targetPort:
                              anyOf:
                              - type: integer
                              - type: string
                              x-kubernetes-int-or-string: true
                            port:
                              type: integer
                            nodePort:
                              type: integer
                            name:
                              type: string
                            appProtocol:
                              type: string
                            protocol:
                              type: string
                          type: object
                        type: array
                      loadBalancerIP:
                        description: Assign a load balancer IP.
                        type: string
                      annotations:
                        additionalProperties:
                          type: string
                        description: Additional annotations to add to the Broker Service
                          resources.
                        type: object
                      type:
                        description: Service type. Default value is 'ClusterIP'
                        type: string
                      enablePlainTextWithTLS:
                        description: Enable plain text connections even if TLS is
                          enabled.
                        type: boolean
                    type: object
                  gracePeriod:
                    description: Termination grace period in seconds for the Broker
                      pod. Default value is 60.
                    minimum: 0.0
                    type: integer
                  initContainer:
                    description: Additional init container.
                    properties:
                      args:
                        description: The command args used for the container.
                        items:
                          type: string
                        type: array
                      command:
                        description: The command used for the container.
                        items:
                          type: string
                        type: array
                      image:
                        description: The image used to run the container.
                        type: string
                      emptyDirPath:
                        description: The container path where the emptyDir volume
                          is mounted.
                        type: string
                      imagePullPolicy:
                        description: The image pull policy used for the container.
                        type: string
                    type: object
                  updateStrategy:
                    description: 'Update strategy for the Broker pod/s. '
                    properties:
                      rollingUpdate:
                        properties:
                          maxUnavailable:
                            anyOf:
                            - type: integer
                            - type: string
                            x-kubernetes-int-or-string: true
                          maxSurge:
                            anyOf:
                            - type: integer
                            - type: string
                            x-kubernetes-int-or-string: true
                        type: object
                      type:
                        type: string
                    type: object
                  annotations:
                    additionalProperties:
                      type: string
                    description: Annotations to add to each Broker resource.
                    type: object
                  resources:
                    description: Resource requirements for the Broker pod.
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        type: object
                      requests:
                        additionalProperties:
                          anyOf:
                          - type: integer
                          - type: string
                          x-kubernetes-int-or-string: true
                        type: object
                    type: object
                  probe:
                    description: Liveness and readiness probe values.
                    properties:
                      period:
                        description: Indicates the period (in seconds) for the probe.
                        type: integer
                      timeout:
                        description: Indicates the timeout (in seconds) for the probe.
                        type: integer
                      initial:
                        description: Indicates the initial delay (in seconds) for
                          the probe.
                        type: integer
                      enabled:
                        description: Indicates whether the probe is enabled or not.
                        type: boolean
                    type: object
                  replicas:
                    description: Replicas of this component.
                    type: integer
                  pdb:
                    description: Pod disruption budget configuration for this component.
                    properties:
                      maxUnavailable:
                        description: Indicates the maxUnavailable property for the
                          Pdb.
                        type: integer
                      enabled:
                        description: Indicates if the Pdb policy is enabled for this
                          component.
                        type: boolean
                    type: object
                  image:
                    description: Pulsar image to use for this component.
                    type: string
                  nodeSelectors:
                    additionalProperties:
                      type: string
                    description: Additional node selectors for this component.
                    type: object
                  imagePullPolicy:
                    description: Pulsar image pull policy to use for this component.
                    type: string
                  config:
                    additionalProperties:
                      type: string
                    description: Configuration entries directly passed to this component.
                    type: object
                type: object
              global:
                properties:
                  storage:
                    description: Storage configuration.
                    properties:
                      storageClass:
                        description: Indicates if a StorageClass is used. The operator
                          will create the StorageClass if needed.
                        properties:
                          extraParams:
                            additionalProperties:
                              type: string
                            description: Adds extra parameters for the StorageClass.
                            type: object
                          provisioner:
                            description: Indicates the provisioner property for the
                              StorageClass.
                            type: string
                          type:
                            description: Indicates the 'type' parameter for the StorageClass.
                            type: string
                          fsType:
                            description: Indicates the 'fsType' parameter for the
                              StorageClass.
                            type: string
                          reclaimPolicy:
                            description: Indicates the reclaimPolicy property for
                              the StorageClass.
                            type: string
                        type: object
                      existingStorageClassName:
                        description: Indicates if an already existing storage class
                          should be used.
                        type: string
                    type: object
                  kubernetesClusterDomain:
                    description: |
                      The domain name for your kubernetes cluster.
                      This domain is documented here: https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/#a-aaaa-records-1 .
                      It's used to fully qualify service names when configuring Pulsar.
                      The default value is 'cluster.local'.
                    type: string
                  components:
                    description: Pulsar cluster components names.
                    properties:
                      brokerBaseName:
                        description: Broker base name. Default value is 'broker'.
                        type: string
                      zookeeperBaseName:
                        description: Zookeeper base name. Default value is 'zookeeper'.
                        type: string
                      bookkeeperBaseName:
                        description: BookKeeper base name. Default value is 'bookkeeper'.
                        type: string
                      proxyBaseName:
                        description: Proxy base name. Default value is 'proxy'.
                        type: string
                    type: object
                  tls:
                    description: TLS configuration for the cluster.
                    properties:
                      defaultSecretName:
                        description: Default secret name.
                        type: string
                      broker:
                        description: TLS configurations related to the broker component.
                        properties:
                          enabled:
                            description: Enable tls for this component.
                            type: boolean
                          tlsSecretName:
                            description: Enable certificates for this component.
                            type: string
                        type: object
                      enabled:
                        description: Global switch to turn on or off the TLS configurations.
                        type: boolean
                      zookeeper:
                        description: TLS configurations related to the ZooKeeper component.
                        properties:
                          enabled:
                            description: Enable tls for this component.
                            type: boolean
                          tlsSecretName:
                            description: Enable certificates for this component.
                            type: string
                        type: object
                      bookkeeper:
                        description: TLS configurations related to the BookKeeper
                          component.
                        properties:
                          enabled:
                            description: Enable tls for this component.
                            type: boolean
                          tlsSecretName:
                            description: Enable certificates for this component.
                            type: string
                        type: object
                    type: object
                  dnsConfig:
                    description: Additional DNS config for each pod created by the
                      operator.
                    properties:
                      nameservers:
                        items:
                          type: string
                        type: array
                      searches:
                        items:
                          type: string
                        type: array
                      options:
                        items:
                          properties:
                            value:
                              type: string
                            name:
                              type: string
                          type: object
                        type: array
                    type: object
                  image:
                    description: Default Pulsar image to use. Any components can be
                      configured to use a different image.
                    type: string
                  name:
                    description: Pulsar cluster base name.
                    type: string
                  nodeSelectors:
                    additionalProperties:
                      type: string
                    description: "Global node selector. If set, this will apply to\
                      \ all components."
                    type: object
                  imagePullPolicy:
                    description: Default Pulsar image pull policy to use. Any components
                      can be configured to use a different image pull policy. Default
                      value is 'IfNotPresent'.
                    type: string
                  persistence:
                    description: |
                      If persistence is enabled, components that has state will be deployed with PersistentVolumeClaims, otherwise, for test purposes, they will be deployed with emptDir
                    type: boolean
                required:
                - name
                type: object
            type: object
          status:
            properties:
              message:
                type: string
              ready:
                type: boolean
              reason:
                enum:
                - ErrorUpgrading
                - ErrorConfig
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
